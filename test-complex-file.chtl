// 测试复杂文件处理和错误恢复

[Template] @Style Base {
    margin: 0;
    padding: 0;
}

// 故意的语法错误 - 缺少分号
div {
    class: "error-test"
    style {  // 应该能恢复并继续解析
        color: red;
    }
}

// 正常的元素
span {
    text { "这应该能正常解析" }
}

// 另一个错误 - 不完整的属性
p {
    id: // 缺少值
    style {
        @Style Base;
    }
}

// 复杂的嵌套结构
[Custom] @Element Card {
    div {
        class: "card";
        
        header {
            h2 { text { "标题" } }
        }
        
        // 错误：不匹配的括号
        div {
            class: "body"
            // 缺少右大括号
        
        footer {
            text { "页脚" }
        }
    }
}

// 这个应该能正常解析
body {
    @Element Card;
}

// 测试各种错误情况的恢复
[Template] @Var Theme {
    // 语法错误但应该能恢复
    primary = "#333"  // 使用了=而不是:
    secondary: "#666";
}

// 最后一个正常的元素
main {
    style {
        color: Theme(primary);
    }
}